<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>글쓰기</title>
    <link rel="stylesheet" href="/css/writing.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <div>
      <input type="text" id="writing_title" placeholder="제목" />
      <input type="text" id="writing_contents" placeholder="내용" />
      <button onclick="write()" id="btn_writing">등록</button>
    </div>
  </body>
  <script>
    const write = () => {
      console.log("미치고 팔짝뛰겄다 진짜 ㅋㅋ");
      $.ajax({
        url: "/contentregist",
        type: "post",
        data: {
          title: writing_title.value,
          content: writing_contents.value,
        },
        success: (data) => {
          switch (data) {
            case "success":
              alert("글 작성이 완료되었습니다.");
              writing_title.value = "";
              writing_contents.value = "";
              break;
            case "fail":
              alert("제목 또는 내용을 작성하시오.");
            default:
              alert("알 수 없는 에러 발생 지속 발생 시 관리자 문의 요망");
              break;
          }
        },
      });
    };
  </script>
</html>
